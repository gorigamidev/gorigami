---
import { demos } from "../../data/demos";
---

<section id="in-house">
	<div class="in-house-bg-shape"></div>
	<div class="demos-container">
		<div class="section-label" data-i18n="portfolio.label">
			PROJECTS WE'VE CRAFTED
		</div>
		<h2 data-i18n="portfolio.title">Systems we believe in</h2>
		<p class="intro" data-i18n="portfolio.intro">
			Real projects, real impact. Built with craft and clarity.
		</p>

		<div class="demos-grid">
			{
				demos.map((demo) => (
					<a href={`/case-study/${demo.slug}`} class="demo-card">
						<div class="demo-preview">
							<img src={demo.poster} alt={demo.title} class="demo-image" />
							<div class="demo-overlay">
								<span class="view-case" data-i18n="portfolio.viewCase">
									View case study
								</span>
							</div>
						</div>
						<div class="demo-info">
							<span class="demo-tag">{demo.tag}</span>
							<h3>{demo.title}</h3>
							<p>{demo.caption}</p>
						</div>
					</a>
				))
			}
		</div>

		<div class="demos-cta">
			<a href="#contact" class="btn-primary">â†’ Let's talk about your project</a>
		</div>
	</div>
</section>

<style>
	#in-house {
		width: 100%;
		padding: 8rem 10%;
		background: var(--lavender-mist);
		border-top: 1px solid var(--light-gray);
		position: relative;
		overflow: hidden;
	}

	/* Decorative background shape */
	.in-house-bg-shape {
		position: absolute;
		top: -15%;
		right: -15%;
		width: 55%;
		height: 110%;
		background: rgba(255, 255, 255, 0.4);
		clip-path: polygon(20% 0%, 100% 0%, 100% 100%, 0% 100%);
		z-index: 0;
	}

	.demos-container {
		max-width: 1200px;
		margin: 0 auto;
		position: relative;
		z-index: 1;
	}

	.section-label {
		font-size: 0.75rem;
		font-weight: 600;
		letter-spacing: 0.15em;
		text-transform: uppercase;
		color: var(--sandy-brown);
		margin-bottom: 1.5rem;
	}

	#in-house h2 {
		font-size: 2.5rem;
		margin-bottom: 1rem;
		font-weight: 700;
		color: var(--ink-black);
	}

	.intro {
		font-size: 1.25rem;
		color: var(--mid-gray);
		margin-bottom: 4rem;
		font-weight: 400;
	}

	.demos-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
		gap: 3rem;
		margin-bottom: 4rem;
	}

	.demo-card {
		background: transparent;
		overflow: hidden;
		transition: all 0.2s ease;
		background: var(--paper-white);
		overflow: hidden;
		transition: all 0.3s ease;
		border: 1px solid var(--light-gray);
		display: flex;
		flex-direction: column;
		text-decoration: none;
		color: inherit;
	}

	.demo-card:hover {
		transform: translateY(-4px);
		box-shadow: 0 8px 24px rgba(22, 9, 29, 0.1);
		border-color: var(--sandy-brown);
	}

	.demo-preview {
		width: 100%;
		aspect-ratio: 16 / 10;
		overflow: hidden;
		background: var(--smoke);
		position: relative;
	}

	.demo-image {
		width: 100%;
		height: 100%;
		object-fit: cover;
		filter: grayscale(0.3);
		transition: all 0.3s ease;
	}

	.demo-card:hover .demo-image {
		filter: grayscale(0);
		transform: scale(1.05);
	}

	.demo-overlay {
		position: absolute;
		inset: 0;
		background: rgba(22, 9, 29, 0.85);
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.demo-card:hover .demo-overlay {
		opacity: 1;
	}

	.view-case {
		color: var(--paper-white);
		font-size: 1rem;
		font-weight: 600;
	}

	.demo-badge {
		position: absolute;
		top: 1rem;
		right: 1rem;
		z-index: 2;
		background: var(--paper-white);
		color: var(--ink-black);
		padding: 0.4rem 0.8rem;
		font-size: 0.7rem;
		font-weight: 600;
		letter-spacing: 0.1em;
		border: 1px solid var(--light-gray);
	}

	.demo-info {
		padding: 1.5rem;
		display: flex;
		flex-direction: column;
		gap: 0.75rem;
	}

	.demo-tag {
		font-size: 0.7rem;
		font-weight: 600;
		letter-spacing: 0.12em;
		text-transform: uppercase;
		color: var(--sandy-brown);
	}

	.demo-info h3 {
		font-size: 1.25rem;
		color: var(--midnight-violet);
		font-weight: 600;
		margin: 0;
	}

	.demo-info p {
		font-size: 0.95rem;
		color: var(--mid-gray);
		line-height: 1.6;
		margin: 0;
	}

	.demo-caption {
		font-size: 0.95rem;
		color: var(--mid-gray);
		font-style: italic;
		font-weight: 400;
	}

	.walkthrough-cta {
		text-align: left;
		margin-top: 4rem;
		padding-top: 3rem;
		border-top: 1px solid var(--light-gray);
	}

	.btn-walkthrough {
		display: inline-block;
		padding: 1rem 1.5rem;
		background: transparent;
		color: var(--ink-black);
		border: 1px solid var(--ink-black);
		font-weight: 500;
		font-size: 1rem;
		text-decoration: none;
		transition: all 0.2s ease;
	}

	.btn-walkthrough:hover {
		background: var(--ink-black);
		color: var(--paper-white);
		transform: translateX(4px);
	}

	@media screen and (max-width: 768px) {
		#in-house {
			padding: 5rem 1.5rem;
		}

		#in-house h2 {
			font-size: 2rem;
		}

		.demos-grid {
			grid-template-columns: 1fr;
			gap: 2.5rem;
		}
	}
</style>
