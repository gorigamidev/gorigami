---
import Layout from "../../layouts/Layout.astro";
import { demos } from "../../data/demos";

export async function getStaticPaths() {
	return demos.map((demo) => ({
		params: { slug: demo.slug },
		props: { demo },
	}));
}

const { demo } = Astro.props;
---

<Layout
	title={`${demo.title} - Gorigami Case Study`}
	description={demo.overview}
>
	<section id="case-study">
		<div class="case-study-container">
			<!-- Back button -->
			<a href="/#in-house" class="back-link" data-i18n="caseStudy.backLink"
				>← Back to projects</a
			>

			<!-- Header -->
			<div class="case-header">
				<span class="case-tag" data-i18n-field="tag">{demo.tag}</span>
				<h1>{demo.title}</h1>
				<p class="case-caption" data-i18n-field="caption">{demo.caption}</p>
			</div>

			<!-- Hero Image -->
			<div class="case-hero">
				<img src={demo.poster} alt={demo.title} />
			</div>

			<!-- Content Grid -->
			<div class="case-content case-study-content" data-slug={demo.slug}>
				<div class="content-sidebar">
					<div class="info-block">
						<h3 data-i18n="caseStudy.projectType">Project Type</h3>
						<p data-i18n-field="tag">{demo.tag}</p>
					</div>
					<div class="info-block">
						<h3 data-i18n="caseStudy.status">Status</h3>
						<p data-i18n-field="status">{demo.status}</p>
					</div>
					<div class="info-block">
						<h3 data-i18n="caseStudy.year">Year</h3>
						<p>{demo.year}</p>
					</div>
				</div>

				<div class="content-main">
					<div class="content-section">
						<h2 data-i18n="caseStudy.overview">Overview</h2>
						<p data-i18n-field="overview">{demo.overview}</p>
					</div>

					<div class="content-section">
						<h2 data-i18n="caseStudy.challenge">The Challenge</h2>
						<p data-i18n-field="challenge">{demo.challenge}</p>
					</div>

					<div class="content-section">
						<h2 data-i18n="caseStudy.approach">Our Approach</h2>
						<p data-i18n-field="approach">{demo.approach}</p>
					</div>

					<div class="content-section">
						<h2 data-i18n="caseStudy.features">Key Features</h2>
						<ul class="feature-list" data-i18n-field="features">
							{demo.features.map((feature) => <li>{feature}</li>)}
						</ul>
					</div>

					<div class="content-section">
						<h2 data-i18n="caseStudy.results">Results</h2>
						<p data-i18n-field="results">{demo.results}</p>
					</div>
				</div>
			</div>

			<!-- CTA -->
			<div class="case-cta">
				<h2 data-i18n="caseStudy.ctaTitle">
					Ready to build something extraordinary?
				</h2>
				<a
					href="https://wa.me/573057197012?text=Hi!%20I'm%20interested%20in%20starting%20a%20project%20with%20Gorigami"
					target="_blank"
					class="btn-primary"
					data-i18n="caseStudy.ctaBtn">→ Let's talk on WhatsApp</a
				>
			</div>
		</div>
	</section>
</Layout>

<style>
	#case-study {
		width: 100%;
		min-height: 100vh;
		padding: 8rem 10% 4rem;
		background: var(--paper-white);
	}

	.case-study-container {
		max-width: 1200px;
		margin: 0 auto;
	}

	.back-link {
		display: inline-block;
		color: var(--midnight-violet);
		font-size: 0.95rem;
		margin-bottom: 3rem;
		text-decoration: none;
		transition: transform 0.2s ease;
	}

	.back-link:hover {
		transform: translateX(-4px);
	}

	/* Header */
	.case-header {
		margin-bottom: 3rem;
	}

	.case-tag {
		display: inline-block;
		font-size: 0.75rem;
		font-weight: 600;
		letter-spacing: 0.1em;
		text-transform: uppercase;
		color: var(--sandy-brown);
		margin-bottom: 1rem;
	}

	.case-header h1 {
		font-size: 3.5rem;
		color: var(--midnight-violet);
		margin-bottom: 1rem;
		font-weight: 800;
		line-height: 1.1;
	}

	.case-caption {
		font-size: 1.5rem;
		color: var(--mid-gray);
		font-weight: 400;
	}

	/* Hero Image */
	.case-hero {
		width: 100%;
		margin-bottom: 5rem;
		border: 1px solid var(--light-gray);
		overflow: hidden;
	}

	.case-hero img {
		width: 100%;
		height: auto;
		display: block;
	}

	/* Content Grid */
	.case-content {
		display: grid;
		grid-template-columns: 250px 1fr;
		gap: 5rem;
		margin-bottom: 5rem;
	}

	.content-sidebar {
		display: flex;
		flex-direction: column;
		gap: 2rem;
	}

	.info-block h3 {
		font-size: 0.75rem;
		font-weight: 600;
		letter-spacing: 0.1em;
		text-transform: uppercase;
		color: var(--mid-gray);
		margin-bottom: 0.5rem;
	}

	.info-block p {
		font-size: 1rem;
		color: var(--midnight-violet);
		font-weight: 500;
	}

	.content-main {
		display: flex;
		flex-direction: column;
		gap: 3rem;
	}

	.content-section h2 {
		font-size: 1.75rem;
		color: var(--midnight-violet);
		margin-bottom: 1rem;
		font-weight: 700;
	}

	.content-section p {
		font-size: 1.1rem;
		color: var(--mid-gray);
		line-height: 1.8;
	}

	.feature-list {
		list-style: none;
		padding: 0;
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}

	.feature-list li {
		font-size: 1.1rem;
		color: var(--mid-gray);
		padding-left: 2rem;
		position: relative;
	}

	.feature-list li::before {
		content: "→";
		position: absolute;
		left: 0;
		color: var(--sandy-brown);
		font-weight: 600;
	}

	/* CTA */
	.case-cta {
		text-align: center;
		padding: 4rem 2rem;
		background: var(--lavender-mist);
		border-radius: 0.5rem;
	}

	.case-cta h2 {
		font-size: 2rem;
		color: var(--midnight-violet);
		margin-bottom: 2rem;
		font-weight: 700;
	}

	.btn-primary {
		display: inline-block;
		padding: 1rem 2rem;
		font-size: 1rem;
		font-weight: 600;
		color: var(--paper-white);
		background: var(--midnight-violet);
		border: 1px solid var(--midnight-violet);
		text-decoration: none;
		transition: all 0.2s ease;
	}

	.btn-primary:hover {
		background: var(--sandy-brown);
		border-color: var(--sandy-brown);
		transform: translateX(4px);
	}

	/* Responsive */
	@media screen and (max-width: 1024px) {
		.case-content {
			grid-template-columns: 1fr;
			gap: 3rem;
		}

		.content-sidebar {
			flex-direction: row;
			justify-content: space-between;
		}
	}

	@media screen and (max-width: 768px) {
		#case-study {
			padding: 6rem 1.5rem 3rem;
		}

		.case-header h1 {
			font-size: 2.5rem;
		}

		.case-caption {
			font-size: 1.2rem;
		}

		.content-sidebar {
			flex-direction: column;
		}

		.case-cta h2 {
			font-size: 1.5rem;
		}
	}
</style>
